<!-- Sticky Push Banner -->
<div id="push-banner">
  <span>ğŸ”” Get latest news alerts!</span>
  <button id="push-enable-btn">Enable</button>
</div>

<!-- Firebase Push Logic -->
<script type="module" src="/push.js"></script>

<!-- Banner Click Logic -->
<script>
document.addEventListener('DOMContentLoaded', () => {
  const banner = document.getElementById('push-banner');
  const btn = document.getElementById('push-enable-btn');

  if (!banner || !btn) {
    console.error('âŒ Push banner elements not found');
    return;
  }

  btn.addEventListener('click', async () => {
    console.log('ğŸŸ¢ Enable button clicked');

    if (typeof window.enablePush !== 'function') {
      console.error('âŒ enablePush not available');
      alert('Push system not ready yet');
      return;
    }

    await window.enablePush();
    banner.style.display = 'none';
    localStorage.setItem('push-enabled', 'true');
  });

  if (localStorage.getItem('push-enabled') === 'true') {
    banner.style.display = 'none';
  }
});
</script>

<footer class="site-footer">
  <p>Â© <span id="year"></span> FastNews. All Rights Reserved.</p>
</footer>

<script>
  document.getElementById("year").innerText = new Date().getFullYear();
</script>
